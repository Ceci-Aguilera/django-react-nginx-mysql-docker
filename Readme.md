# django-react-nginx-mysql-docker



There are 4 images on use: the MySQL image, the Nginx Image, the Django Image, and the React Image.

### Content Table

- [Installation](#installation)
- [Structure and Folders](#struct_folders)
- [Environment Variables](#envars)
- [Web Server Config (Nginx)](#web_serv) 
- [Django Config](#django_conf)
- [React Config](#react_conf)



<a name="installation"></a>

###  Installation

1. Clone the repo from GitHub and start containers:

   ```bash
   git clone <repo>
   cd <repo>
   cp simple_env_conf.env .env
   docker-compose build
   docker-compose up
   docker-compose run backend ./manage.py collectstatic
   docker-compose run backend ./manage.py migrate
   ```

   

2. (optional) To access React's project main page go to [http://localhost/]() while to go to Django Admin follow the link [http://localhost/admin]().

3. (optional) To create a super-user for Django run

   ```bash
   docker-compose run backend ./manage.py createsuperuser
   ```

   

<a name="struct_folders"></a>

###  Structure and Folders

- The __mysql_data__ folder contains the data generated by __MySQL Database__.
- The __Backend__ folder contains the __Django__ dockerfile and the project is at __Backend/django_backend__. 
- The __Frontend__ folder contains the __React__ dockerfile and the project is at __Frontend/react_frontend__. 
- The __Nginx__ folder contains the Nginx server configuration file and the dockerfile.



<a name="envars"></a>

###  Environment Variables

- __MYSQL_USER__, __MYSQL_PASSWORD__, and __MYSQL_DATABASE__ store the credentials of the database.
- __MYSQL_DATA_DIR__ The directory to store MySQL data (currently mysql_data inside project root folder).
- __HOST_MACHINE_X_PORT__ These variables store the default port for service X.

---

- The environment variables for the __Django Project__ are at the Backend/django_backend/django_backend/settings/.env file.



<a name="web_serv"></a>

###  Web Server Config (Nginx) 

The server has been configured such that the Django Admin can be accessed when /admin is used in the Url, and the api_django_app (not created yet) can be accessed whenever /api is used. The rest points to React (except for the static files urls).



<a name="django_conf"></a>

###  Django Config

The Django project has multiple settings.py files for the different environments:  development, testing, production, ...; the current one in use is the dev.py (for the development stage). As the default config, the project uses a MySQL database already configured in the dev.py. 

__NOTE:__ There is no app created yet.



<a name="react_conf"></a>

### React Config

The React project has no custom configuration and has been set to the default settings. 
